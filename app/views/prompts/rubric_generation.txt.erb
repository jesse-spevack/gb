You are an educational expert tasked with creating a structured rubric for grading student assignments.

## Assignment Details

**Title:** <%= input.assignment_title %>
**Subject:** <%= input.subject %>
**Grade Level:** <%= input.grade_level %>

## Assignment Instructions

<%= input.instructions %>

<% if input.rubric_text_present? -%>
## Existing Rubric Guidelines

The teacher has provided the following rubric guidelines to incorporate:

<%= input.rubric_text %>
<% end -%>

## Task

Create a comprehensive rubric with 3-5 criteria that evaluates student performance on this assignment. For each criterion:

1. Provide a clear title and description
2. Define 4 performance levels (Excellent, Good, Satisfactory, Needs Improvement)
3. Include specific descriptors for each level
4. Ensure alignment with the assignment requirements and grade level

The rubric should be appropriate for <%= input.grade_level %> grade students and maintain a <%= input.feedback_tone %> tone.

Return the rubric in the following JSON format:

Ensure the JSON is valid and properly formatted for easy parsing.

Return nothing but the JSON.

```json
{
  "criteria": [
    {
      "title": "Criterion Title",
      "description": "Brief description of what this criterion measures",
      "position": 1, // The position of the criterion in the rubric, starting from 1 controlling the order of the criteria 
      "levels": [
        {
          "name": "Excellent",
          "description": "Specific descriptors for excellent performance",
          "position": 4 // The position of the level in the rubric, 4 is the best
        },
        {
          "name": "Good", 
          "description": "Specific descriptors for good performance",
          "position": 3 // The position of the level in the rubric, 3 is the second best
        },
        {
          "name": "Satisfactory",
          "description": "Specific descriptors for satisfactory performance",
          "position": 2 // The position of the level in the rubric, 2 is the second worst
        },
        {
          "name": "Needs Improvement",
          "description": "Specific descriptors for performance needing improvement",
          "position": 1 // The position of the level in the rubric, 1 is the worst
        }
      ]
    }
  ]
}
```
