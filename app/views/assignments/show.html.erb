<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <div data-controller="assignment-processor" 
       data-assignment-processor-active-class="bg-blue-600"
       data-assignment-processor-inactive-class="bg-gray-200"
       data-assignment-processor-active-text-class="text-white"
       data-assignment-processor-normal-text-class="text-gray-900"
       data-assignment-processor-muted-text-class="text-gray-500"
       data-assignment-processor-hidden-class="hidden"
       class="w-full">
    
    <!-- Mobile: Vertical Stack -->
    <div class="flex flex-col space-y-8 sm:hidden">
      
      <!-- Step 1: Assignment Saved -->
      <div class="flex items-center space-x-4" data-assignment-processor-target="step1Container">
        <div class="flex-shrink-0 w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step1Circle">
          <span class="text-sm font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step1Number">1</span>
          <div class="hidden" data-assignment-processor-target="step1Check">
            <%= render "shared/icons/checkmark", class: "w-6 h-6 text-white" %>
          </div>
        </div>
        <div class="flex-1">
          <p class="text-sm font-medium text-gray-900 transition-all duration-300" data-assignment-processor-target="step1Text">Assignment Saved</p>
        </div>
      </div>

      <!-- Step 2: Creating Rubric -->
      <div class="flex items-center space-x-4" data-assignment-processor-target="step2Container">
        <div class="flex-shrink-0 w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step2Circle">
          <span class="text-sm font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step2Number">2</span>
          <div class="hidden" data-assignment-processor-target="step2Check">
            <%= render "shared/icons/checkmark", class: "w-6 h-6 text-white" %>
          </div>
        </div>
        <div class="flex-1">
          <p class="text-sm font-medium text-gray-900 transition-all duration-300" data-assignment-processor-target="step2Text">Creating Rubric</p>
        </div>
      </div>

      <!-- Step 3: Grading Work -->
      <div class="flex items-center space-x-4" data-assignment-processor-target="step3Container">
        <div class="flex-shrink-0 w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step3Circle">
          <span class="text-sm font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step3Number">3</span>
          <div class="hidden" data-assignment-processor-target="step3Check">
            <%= render "shared/icons/checkmark", class: "w-6 h-6 text-white" %>
          </div>
        </div>
        <div class="flex-1">
          <p class="text-sm font-medium text-gray-900 transition-all duration-300" data-assignment-processor-target="step3Text">Grading Work</p>
        </div>
      </div>

      <!-- Step 4: Generating Summary -->
      <div class="flex items-center space-x-4" data-assignment-processor-target="step4Container">
        <div class="flex-shrink-0 w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step4Circle">
          <span class="text-sm font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step4Number">4</span>
          <div class="hidden" data-assignment-processor-target="step4Check">
            <%= render "shared/icons/checkmark", class: "w-6 h-6 text-white" %>
          </div>
        </div>
        <div class="flex-1">
          <p class="text-sm font-medium text-gray-900 transition-all duration-300" data-assignment-processor-target="step4Text">Generating Summary</p>
        </div>
      </div>

    </div>

    <!-- Desktop: Horizontal -->
    <div class="hidden sm:block">
      <div class="relative flex items-start justify-between">
        
        <!-- Step 1: Assignment Saved -->
        <div class="flex flex-col items-center">
          <div class="flex-shrink-0 w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step1Circle">
            <span class="text-lg font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step1Number">1</span>
            <div class="hidden" data-assignment-processor-target="step1Check">
              <%= render "shared/icons/checkmark", class: "w-8 h-8 text-white" %>
            </div>
          </div>
          <p class="text-sm font-medium text-gray-900 mt-4 text-center transition-all duration-300" data-assignment-processor-target="step1Text">Assignment<br>Saved</p>
        </div>

        <!-- Line 1 to 2 -->
        <div class="flex-1 h-1 bg-gray-200 mx-8 mt-8 transition-all duration-300" data-assignment-processor-target="line1to2"></div>

        <!-- Step 2: Creating Rubric -->
        <div class="flex flex-col items-center">
          <div class="flex-shrink-0 w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step2Circle">
            <span class="text-lg font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step2Number">2</span>
            <div class="hidden" data-assignment-processor-target="step2Check">
              <%= render "shared/icons/checkmark", class: "w-8 h-8 text-white" %>
            </div>
          </div>
          <p class="text-sm font-medium text-gray-900 mt-4 text-center transition-all duration-300" data-assignment-processor-target="step2Text">Creating<br>Rubric</p>
        </div>

        <!-- Line 2 to 3 -->
        <div class="flex-1 h-1 bg-gray-200 mx-8 mt-8 transition-all duration-300" data-assignment-processor-target="line2to3"></div>

        <!-- Step 3: Grading Work -->
        <div class="flex flex-col items-center">
          <div class="flex-shrink-0 w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step3Circle">
            <span class="text-lg font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step3Number">3</span>
            <div class="hidden" data-assignment-processor-target="step3Check">
              <%= render "shared/icons/checkmark", class: "w-8 h-8 text-white" %>
            </div>
          </div>
          <p class="text-sm font-medium text-gray-900 mt-4 text-center transition-all duration-300" data-assignment-processor-target="step3Text">Grading<br>Work</p>
        </div>

        <!-- Line 3 to 4 -->
        <div class="flex-1 h-1 bg-gray-200 mx-8 mt-8 transition-all duration-300" data-assignment-processor-target="line3to4"></div>

        <!-- Step 4: Generating Summary -->
        <div class="flex flex-col items-center">
          <div class="flex-shrink-0 w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center transition-all duration-300" data-assignment-processor-target="step4Circle">
            <span class="text-lg font-semibold text-gray-900 transition-all duration-300" data-assignment-processor-target="step4Number">4</span>
            <div class="hidden" data-assignment-processor-target="step4Check">
              <%= render "shared/icons/checkmark", class: "w-8 h-8 text-white" %>
            </div>
          </div>
          <p class="text-sm font-medium text-gray-900 mt-4 text-center transition-all duration-300" data-assignment-processor-target="step4Text">Generating<br>Summary</p>
        </div>

      </div>
    </div>

    <!-- Status Text and Spinner (appears below both mobile and desktop) -->
    <div class="mt-8 text-center">
      <div class="flex items-center justify-center space-x-3">
        <!-- Spinner -->
        <div data-assignment-processor-target="spinner" class="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"></div>
        
        <!-- Status Text -->
        <p data-assignment-processor-target="statusText" class="text-lg font-medium text-gray-700">
          Saving assignment...
        </p>
      </div>
    </div>

  </div>
</div>