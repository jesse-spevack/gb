<%# 
  Performance Badge Partial
  
  Locals:
    - level: The performance level (can be string, symbol, or Level instance)
    - size: Badge size - "sm", "md" (default), or "lg"
    - show_icon: Whether to show the icon (default: true)
%>

<%
  level = local_assigns[:level]
  size = local_assigns[:size] || "md"
  show_icon = local_assigns.fetch(:show_icon, true)
  
  # Use helper methods for consistent styling
  size_classes = performance_badge_size_classes(size)
  color_classes = performance_level_color_classes(level)
  icon_name = performance_level_icon(level)
  display_text = performance_level_text(level)
%>

<div class="inline-flex items-center <%= size_classes[:wrapper] %> rounded-full font-semibold <%= color_classes %>">
  <% if show_icon %>
    <%= render "shared/icons/#{icon_name}", class: "#{size_classes[:icon]} mr-2" %>
  <% end %>
  <%= display_text %>
</div>