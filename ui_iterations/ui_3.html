<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Processing - Compact View</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom animations */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        /* Progress bar animation */
        .progress-bar {
            transition: width 0.5s ease-out;
        }
        
        /* State transitions */
        .state-transition {
            transition: all 0.3s ease-in-out;
        }
        
        /* Compact spacing overrides */
        .compact-card {
            @apply p-3 sm:p-4;
        }
        
        .compact-text {
            @apply text-xs sm:text-sm;
        }
        
        /* Hidden class for JavaScript toggling */
        .hidden { 
            display: none !important; 
        }
        
        /* Dense table styles */
        .dense-table td, .dense-table th {
            @apply py-1 px-2 text-xs;
        }
        
        /* Quick action buttons */
        .quick-action {
            @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded transition-colors;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 py-3 sm:py-6">
        
        <!-- Compact Header -->
        <div class="mb-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <button class="mr-2 p-1 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <h1 class="text-lg sm:text-xl font-semibold text-gray-900">5th Grade Science Essay</h1>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-xs text-gray-500">12 docs</span>
                    <button id="viewToggle" class="quick-action bg-blue-100 text-blue-700 hover:bg-blue-200">
                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
                        </svg>
                        <span id="toggleText">View Summary</span>
                    </button>
                </div>
            </div>
            <p class="text-xs text-gray-500 mt-1">Subject: Science • Grade Level: 5th • Tone: Encouraging</p>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="space-y-4">
            <!-- Compact Progress Card -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <div class="flex items-center justify-between mb-3">
                    <h2 class="text-sm font-semibold text-gray-900">Processing</h2>
                    <div class="text-xl font-bold text-blue-600" id="progressPercent">73%</div>
                </div>
                
                <!-- Progress Bar -->
                <div class="mb-3">
                    <div class="flex justify-between text-xs text-gray-600 mb-1">
                        <span id="progressStatus">8 of 11 steps complete</span>
                        <span class="text-xs">Est. 2m remaining</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full progress-bar" 
                             style="width: 73%" id="progressBar"></div>
                    </div>
                </div>

                <!-- Compact Phase Indicators -->
                <div class="grid grid-cols-3 gap-3">
                    <!-- Rubric Phase -->
                    <div class="text-center">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-1">
                            <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <p class="text-xs font-medium text-gray-700">Rubric</p>
                        <p class="text-xs text-green-600">Complete</p>
                    </div>

                    <!-- Student Work Phase -->
                    <div class="text-center">
                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-1">
                            <span class="text-xs font-semibold text-blue-600">8/12</span>
                        </div>
                        <p class="text-xs font-medium text-gray-700">Grading</p>
                        <p class="text-xs text-blue-600">In Progress</p>
                    </div>

                    <!-- Summary Phase -->
                    <div class="text-center">
                        <div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-1">
                            <div class="w-2 h-2 bg-gray-400 rounded-full"></div>
                        </div>
                        <p class="text-xs font-medium text-gray-700">Summary</p>
                        <p class="text-xs text-gray-500">Pending</p>
                    </div>
                </div>
            </div>

            <!-- Real-time Activity Feed -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <h3 class="text-sm font-semibold text-gray-900 mb-3">Activity</h3>
                <div class="space-y-2 max-h-32 overflow-y-auto">
                    <div class="flex items-start space-x-2">
                        <div class="w-2 h-2 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"></div>
                        <div class="flex-1">
                            <p class="text-xs text-gray-700">Grading "Solar System Research" by Emma</p>
                            <p class="text-xs text-gray-500">Just now</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <div class="w-2 h-2 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></div>
                        <div class="flex-1">
                            <p class="text-xs text-gray-700">Completed grading "Planets and Stars" by Jake</p>
                            <p class="text-xs text-gray-500">1 minute ago</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <div class="w-2 h-2 bg-green-500 rounded-full mt-1.5 flex-shrink-0"></div>
                        <div class="flex-1">
                            <p class="text-xs text-gray-700">Completed grading "Mars Exploration" by Sarah</p>
                            <p class="text-xs text-gray-500">2 minutes ago</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary State -->
        <div id="summaryState" class="hidden space-y-4">
            <!-- Quick Stats Bar -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-lg font-bold text-gray-900">12</div>
                        <div class="text-xs text-gray-600">Students</div>
                    </div>
                    <div class="text-center">
                        <div class="text-lg font-bold text-green-600">87%</div>
                        <div class="text-xs text-gray-600">Avg Score</div>
                    </div>
                    <div class="text-center">
                        <div class="text-lg font-bold text-blue-600">4.2</div>
                        <div class="text-xs text-gray-600">Avg Rubric</div>
                    </div>
                    <div class="text-center">
                        <div class="text-lg font-bold text-purple-600">3</div>
                        <div class="text-xs text-gray-600">Need Help</div>
                    </div>
                </div>
            </div>

            <!-- Compact Rubric Overview -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <div class="flex items-center justify-between mb-3">
                    <h3 class="text-sm font-semibold text-gray-900">Rubric Performance</h3>
                    <button class="quick-action bg-gray-100 text-gray-700 hover:bg-gray-200">
                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                        Details
                    </button>
                </div>
                
                <div class="space-y-2">
                    <div class="flex items-center justify-between">
                        <span class="text-xs font-medium text-gray-700">Scientific Accuracy</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-20 bg-gray-200 rounded-full h-1.5">
                                <div class="bg-green-500 h-1.5 rounded-full" style="width: 92%"></div>
                            </div>
                            <span class="text-xs font-semibold text-gray-600 w-8">4.6</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-xs font-medium text-gray-700">Research Quality</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-20 bg-gray-200 rounded-full h-1.5">
                                <div class="bg-blue-500 h-1.5 rounded-full" style="width: 85%"></div>
                            </div>
                            <span class="text-xs font-semibold text-gray-600 w-8">4.3</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-xs font-medium text-gray-700">Writing Clarity</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-20 bg-gray-200 rounded-full h-1.5">
                                <div class="bg-yellow-500 h-1.5 rounded-full" style="width: 78%"></div>
                            </div>
                            <span class="text-xs font-semibold text-gray-600 w-8">3.9</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-xs font-medium text-gray-700">Citations</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-20 bg-gray-200 rounded-full h-1.5">
                                <div class="bg-red-500 h-1.5 rounded-full" style="width: 65%"></div>
                            </div>
                            <span class="text-xs font-semibold text-gray-600 w-8">3.3</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Compact Student Results -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <div class="flex items-center justify-between mb-3">
                    <h3 class="text-sm font-semibold text-gray-900">Student Results</h3>
                    <div class="flex items-center space-x-2">
                        <button class="quick-action bg-green-100 text-green-700 hover:bg-green-200">
                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Export
                        </button>
                        <button class="quick-action bg-blue-100 text-blue-700 hover:bg-blue-200">
                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                            </svg>
                            Filter
                        </button>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full dense-table">
                        <thead>
                            <tr class="border-b border-gray-200">
                                <th class="text-left font-medium text-gray-700">Student</th>
                                <th class="text-center font-medium text-gray-700">Score</th>
                                <th class="text-center font-medium text-gray-700">Status</th>
                                <th class="text-right font-medium text-gray-700">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50">
                                <td>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center">
                                            <span class="text-xs font-semibold text-blue-600">E</span>
                                        </div>
                                        <span class="font-medium text-gray-900">Emma Rodriguez</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        95%
                                    </span>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        Excellent
                                    </span>
                                </td>
                                <td class="text-right">
                                    <div class="flex items-center justify-end space-x-1">
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                            </svg>
                                        </button>
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center">
                                            <span class="text-xs font-semibold text-green-600">J</span>
                                        </div>
                                        <span class="font-medium text-gray-900">Jake Chen</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        88%
                                    </span>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                        Good
                                    </span>
                                </td>
                                <td class="text-right">
                                    <div class="flex items-center justify-end space-x-1">
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                            </svg>
                                        </button>
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center">
                                            <span class="text-xs font-semibold text-yellow-600">M</span>
                                        </div>
                                        <span class="font-medium text-gray-900">Maria Santos</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        72%
                                    </span>
                                </td>
                                <td class="text-center">
                                    <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        Needs Work
                                    </span>
                                </td>
                                <td class="text-right">
                                    <div class="flex items-center justify-end space-x-1">
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                            </svg>
                                        </button>
                                        <button class="p-1 text-gray-400 hover:text-blue-600 rounded">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td colspan="4" class="text-center py-2">
                                    <button class="text-xs text-blue-600 hover:text-blue-800 font-medium">
                                        Show 9 more students
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Key Insights -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <h3 class="text-sm font-semibold text-gray-900 mb-3">Key Insights</h3>
                <div class="space-y-2">
                    <div class="flex items-start space-x-2">
                        <div class="w-4 h-4 bg-green-100 rounded-full flex items-center justify-center mt-0.5">
                            <svg class="w-2.5 h-2.5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-xs font-medium text-gray-900">Strong Scientific Understanding</p>
                            <p class="text-xs text-gray-600">Most students demonstrated solid grasp of solar system concepts</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <div class="w-4 h-4 bg-yellow-100 rounded-full flex items-center justify-center mt-0.5">
                            <svg class="w-2.5 h-2.5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-xs font-medium text-gray-900">Citation Skills Need Practice</p>
                            <p class="text-xs text-gray-600">Focus on proper source attribution in future lessons</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-2">
                        <div class="w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center mt-0.5">
                            <svg class="w-2.5 h-2.5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-xs font-medium text-gray-900">Individual Support Recommended</p>
                            <p class="text-xs text-gray-600">3 students would benefit from additional research guidance</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Footer -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 compact-card">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <button class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all">
                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"></path>
                            </svg>
                            Export All
                        </button>
                        <button class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all">
                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                            </svg>
                            Share Results
                        </button>
                    </div>
                    <button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all">
                        Create New Assignment
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        let currentState = 'loading'; // 'loading' or 'summary'
        
        // DOM elements
        const viewToggle = document.getElementById('viewToggle');
        const toggleText = document.getElementById('toggleText');
        const loadingState = document.getElementById('loadingState');
        const summaryState = document.getElementById('summaryState');
        
        // Toggle between states
        function toggleView() {
            if (currentState === 'loading') {
                // Switch to summary
                loadingState.classList.add('hidden');
                summaryState.classList.remove('hidden');
                toggleText.textContent = 'View Progress';
                currentState = 'summary';
            } else {
                // Switch to loading
                summaryState.classList.add('hidden');
                loadingState.classList.remove('hidden');
                toggleText.textContent = 'View Summary';
                currentState = 'loading';
            }
        }
        
        // Event listeners
        viewToggle.addEventListener('click', toggleView);
        
        // Simulate progress updates (for demo purposes)
        function simulateProgress() {
            const progressPercent = document.getElementById('progressPercent');
            const progressBar = document.getElementById('progressBar');
            const progressStatus = document.getElementById('progressStatus');
            
            let progress = 73;
            let completed = 8;
            const total = 11;
            
            const interval = setInterval(() => {
                if (progress >= 100) {
                    clearInterval(interval);
                    // Automatically switch to summary when complete
                    setTimeout(() => {
                        if (currentState === 'loading') {
                            toggleView();
                        }
                    }, 1000);
                    return;
                }
                
                progress += Math.random() * 5;
                completed = Math.min(Math.floor((progress / 100) * total), total);
                
                progressPercent.textContent = Math.floor(progress) + '%';
                progressBar.style.width = Math.floor(progress) + '%';
                progressStatus.textContent = `${completed} of ${total} steps complete`;
            }, 2000);
        }
        
        // Start progress simulation if in loading state
        if (currentState === 'loading') {
            setTimeout(simulateProgress, 1000);
        }
    </script>
</body>
</html>